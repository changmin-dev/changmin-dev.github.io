<h2 id="aws-s3----public">AWS s3 버킷 이미지 엑세스 public설정</h2>
<p>원래는 API를 통해서 이미지를 가지고 왔는데, s3를 다 이용하지 못하는거 같아서 직접 링크를 제공하기로 했다.
<a href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/dev/example-bucket-policies.html">문서</a>를 참고 해서 구현했다.
Java SDK에서는 <code class="highlighter-rouge">AmazonS3</code>의 getUrl(bucketname, filename)을 이용해서 url을 가져올 수 있다.</p>

<h2 id="jjwt---jwt">JJwt를 이용한 자바에서 JWT사용하기</h2>
<p>다음과 같이 사용이 가능하다.</p>

<h3 id="section">토큰 생성</h3>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">String</span> <span class="n">jwt</span> <span class="o">=</span> <span class="n">Jwts</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
				<span class="o">.</span><span class="na">setSubject</span><span class="o">(</span><span class="s">""</span><span class="o">)</span>
				<span class="o">.</span><span class="na">claim</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Chang"</span><span class="o">)</span>
				<span class="o">.</span><span class="na">claim</span><span class="o">(</span><span class="s">"id"</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>
				<span class="o">.</span><span class="na">signWith</span><span class="o">(</span>
						<span class="n">SignatureAlgorithm</span><span class="o">.</span><span class="na">HS256</span><span class="o">,</span>
						<span class="s">"secret"</span><span class="o">.</span><span class="na">getBytes</span><span class="o">()</span>
				<span class="o">)</span>
				<span class="o">.</span><span class="na">compact</span><span class="o">();</span>
</code></pre>
</div>
<h3 id="section-1">토큰 파싱</h3>
<div class="language-java highlighter-rouge"><pre class="highlight"><code>    <span class="n">Jws</span><span class="o">&lt;</span><span class="n">Claims</span><span class="o">&gt;</span> <span class="n">claims</span> <span class="o">=</span> <span class="n">Jwts</span><span class="o">.</span><span class="na">parser</span><span class="o">()</span>
            <span class="o">.</span><span class="na">setSigningKey</span><span class="o">(</span><span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="s">"UTF-8"</span><span class="o">))</span>
                            <span class="o">.</span><span class="na">parseClaimsJws</span><span class="o">(</span><span class="n">token</span><span class="o">);</span>
    
    <span class="n">String</span> <span class="n">item</span> <span class="o">=</span> <span class="n">claims</span><span class="o">.</span><span class="na">getBody</span><span class="o">()</span>
                    <span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">target</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">toString</span><span class="o">();</span>
</code></pre>
</div>
