---
laytout: post
title: 2018년 6월 12일 TIL
tags: [TIL]
---

## 알고리즘
링크드 리스트 관련된 문제를 풀어보았고 단방향 리스트의 add, remove 연산을 구현해봤다. Node클래스를 만들떄 getter, setter로 요소에 접근 하게 해야할지 그냥 접근 가능하게 할지 고민했다. 알고리즘 문제이므로 그냥 접근하게 하였다.

## 네트워크
아직도 아래쪽을 하고 있다. TCP나 HTTP를 해야한다는 생각이 들기도 한다.
### 라우터
복수의 네트워크와 연결되어 있다. 경로를 결정한다. 경로는 발신처로 부터 최종 수신처이다. Mac주소는 같은 네트워크의 수신처를 결정하고 IP주소는 수신처의 컴퓨터를 결정한다.
라우터는 전체 경로가 아닌 다음 수신처까지의 경로를 결정한다. 이를 홉바이홉이라고 한다. 중간 중간에 배치된 라우터가 경로를 결정해 최종 수신처까지 도달할 수 있다. 라우터는 패킷의 IP주소를 보고 경로를 결정한다. 이를 위해 라우팅 테이블을 사용한다.
- 라우팅 테이블 : 수신처 네트워크까지의 거리, 다음에 도달하는 라우터, 다음 라우터의 인터페이스(어떤 선을 타고 가는지 정보) 같은 정보를 가지고 있다.
- 최장 일치의 룰 : 일치하는 프리픽스의 길이가 가장 긴곳을 수신처로 정한다.                            

### 브로드 캐스트 도메인
브로드 캐스트가 영향을 미치는 범위. 라우터가 브로드 캐스트 도메인을 분리한다. ARP는 브로드 캐스트를 하므로 다음 라우터의 MAC주소를 알아 낼 수 없다. 다른 네트워크로 데이터를 전송하기 위해서는 디폴트 게이트웨이로 전송한다. 디폴트 게이트웨이에서 ARP를 이용해 MAC주소를 알아낸다. 사전에 디폴트 게이트웨이 주소를 설정한다.(수동, DHCP)

### 라우팅
라우팅 테이블을 만드는 과정
- 동적 라우팅 : 모든 경로를 알고 있고 그중에서 최적의 경로를 선택한다. 라우터끼리 서로 정보를 교환한다. 모든 라우터가 동일한 정보를 가진 상태를 컨버전스라고 한다.
- 정적 라우팅 : 수동으로 경로를 입력한다. 경로에 문제가 생기면 관리자가 갱신해야한다.

### 라우팅 프로토콜
인접한 라우터간의 정보를 교환하는 방법. 언제, 어떻게, 누구에게, 어떤 정보를 전송할지를 정한다.
 - 자율화 시스템(AS:Autonomous System) : 하나의 관리 단체에 의해 관리되는 네트워크 집합체를 말한다. 경로 도메인, 경로 제어 도메인 이라고도 불린다.
 - EGP: AS간 라우팅
 - IGP: AS 내부 라우팅.  RIP(디스턴스 벡터), OSPF(링크 상태), IS-IS등이 있다.

### RIP
경로를 지나는 라우터의 수를 메트릭으로 해서 경로를 판단한다.(홉이라고 한다.)
30초에 한번씩 정보를 전달한다. 6번 수신 받지 않은 경로를 장애를 발생했다고 간주하고 그 경로를 파기한다.
 
### ICMP
에러 정보를 전송하기 위해서 사용한다. 패킷의 페이로드 대신 ICMP메시지를 포함시킨다. 크게 Query와 Error가 있다.
- TTL(Time To Live) : 생존시간. 패킷이 가지고 있다. 라우터를 경유할때마다 1씩 줄어들고 0이되면 패킷이 파괴된다.
- ICMP 메시지 : 타입(1)/코드(1)/체크섬(2)/옵션(4)/데이터(최대 64) 단위는 옥텟
- Destination Unreachable : 수신처에 도달하지 않는 이유를 통지한다.(Net, Host, Protocol, Port 등)
- Echo : 응답을 주고 받는다. 이를 이용한 프로그램이 ping이다. 응답시간을 이용해서 네트워크 상태를 확인가능하다.
- Time Exceeded : 패킷을 파기한 것을 알린다.